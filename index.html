<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesunde, darmfreundliche und entz√ºndungshemmende Speisen ‚Äì ein Pop-up im Ramien</title>
    <meta name="description" content="Erleben Sie gehobene Bio-K√ºche in stilvollem Ambiente. Jeden Montag exklusiver Brunch mit regionalen Zutaten und Live-Musik.">
    <meta name="keywords" content="healthy brunch wien, bio restaurant, fine dining, gumpendorfer stra√üe, vegetarisch vegan wien">
    <meta name="author" content="Healthy Brunch Club">
    <link rel="canonical" href="https://healthybrunchclub.at/">
    
    <!-- Theme Color for Mobile Browsers -->
    <meta name="theme-color" content="#1A1A1A">
    
    <!-- Refined Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,300;0,400;0,500;0,700;1,400&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,400&family=Montserrat:wght@300;400;500;600&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styles -->
    <link rel="stylesheet" href="mystyle-premium.css">
    
    <!-- Mobile Specific Inline Styles -->
    <style>
        .mobile-pdf-download {
            display: none;
            background: #1A1A1A !important;
            color: #FFFFFF !important;
            border: none !important;
            padding: 0.75rem 1.5rem !important;
            border-radius: 25px !important;
            font-family: 'Montserrat', sans-serif !important;
            font-size: 0.75rem !important;
            font-weight: 500 !important;
            text-transform: uppercase !important;
            letter-spacing: 0.1em !important;
            cursor: pointer !important;
            transition: all 0.3s ease !important;
            margin: 0 auto 2rem !important;
            gap: 0.5rem !important;
            align-items: center !important;
            justify-content: center !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
            appearance: none !important;
        }

        @media (max-width: 768px) {
            .mobile-pdf-download {
                display: flex !important;
            }
        }

        .mobile-pdf-download:active {
            transform: scale(0.95) !important;
            background: #C9A961 !important;
        }

        /* iOS Safari Specific Fixes */
        @supports (-webkit-touch-callout: none) {
            .mobile-pdf-download {
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }
        }

        /* Fix f√ºr iOS Zoom */
        @media (max-width: 768px) {
            input, select, textarea, button {
                font-size: 16px !important;
            }
        }

        /* No transition class for initial load */
        body.no-transition,
        body.no-transition * {
            transition: none !important;
        }
    </style>
    
    <!-- Netlify Identity -->
    <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
<script src="force-lowercase.js"></script>


    <!-- PWA -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Gesunde, darmfreundliche und entz√ºndungshemmende Speisen ‚Äì ein Pop-up im Ramien">
    <meta property="og:description" content="Gehobene Bio-K√ºche in stilvollem Ambiente">
    <meta property="og:image" content="/og-image.jpg">
    <meta property="og:type" content="restaurant">
</head>

<body class="no-transition">
    <!-- Elegant Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-content">
            <img src="content/images/logo.png" alt="Healthy Brunch Club" class="loading-logo">
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
            <p class="loading-text">preparing your experience...</p>
        </div>
    </div>

    <!-- Premium Navigation -->
    <nav class="nav-premium" id="navbar">
        <div class="nav-container">
            <a href="#home" class="logo-premium">
                <img src="content/images/logo.png" alt="Healthy Brunch Club" class="logo-img">
            </a>
            
            <ul class="nav-menu">
                <li><a href="#home" class="nav-link">home</a></li>
                <li><a href="#menu" class="nav-link">speisekarte</a></li>
                <li><a href="#menu-pdf-section" class="nav-link">üì± speisekarten</a></li>
                <li><a href="#about" class="nav-link">√ºber uns</a></li>
                <li><a href="#reservierung" class="nav-link nav-cta">reservierung</a></li>
            </ul>
            
            <button class="mobile-menu-btn" aria-label="Menu" type="button">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-premium" id="home">
        <div class="hero-video-container">
            <video class="hero-video" autoplay muted loop playsinline>
                <source src="/content/videos/healthybrunchclub.mp4" type="video/mp4">
            </video>
            <div class="hero-overlay"></div>
        </div>
        
        <div class="hero-content">
            <h1 class="hero-title">
                <span class="hero-subtitle">willkommen im</span>
                <img src="content/images/logo.png" alt="Healthy Brunch Club" class="main-logo">
                <span class="hero-tagline">where wellness meets culinary excellence</span>
            </h1>
            
            <div class="hero-actions">
                <a href="#menu" class="btn-luxury btn-primary">speisekarte entdecken</a>
                <a href="#reservierung" class="btn-luxury btn-secondary">tisch reservieren</a>
            </div>
        </div>
        
        <div class="scroll-indicator">
            <div class="scroll-arrow"></div>
        </div>
    </section>

    <!-- Premium Menu Section -->
    <section class="menu-premium" id="menu">
        <div class="menu-intro">
            <h2 class="section-title">unsere speisekarte</h2>
            <p class="section-subtitle">mit gutem Gewissen genie√üen</p>
        </div>

        <!-- Mobile PDF Download Button -->
        <button class="mobile-pdf-download" type="button">
            <i class="fas fa-download"></i>
            <span>speisekarte pdf</span>
        </button>

        <!-- Elegant Minimal Filter System -->
        <div class="menu-filter-container">
            <div class="filter-bar">
                <!-- Category Filters Row -->
                <div class="filter-group">
                    <div class="filter-buttons" id="categoryFilters">
                        <button class="filter-btn active" data-filter="all">
                            <span class="btn-text">alle gerichte</span>
                        </button>
                    </div>
                </div>
                
                <!-- Tags and Actions Row -->
                <div class="filter-row-bottom">
                    <div class="filter-tags desktop-only" id="tagFilters">
                        <!-- Tag filters will be populated dynamically -->
                    </div>
                    
                    <div class="filter-actions">
                        <button class="btn-icon" onclick="resetFilters()" type="button">
                            <i class="fas fa-undo"></i>
                            <span class="btn-text">zur√ºcksetzen</span>
                        </button>
                        <button class="btn-icon" onclick="window.location.href='content/menu.pdf'" type="button">
                            <i class="fas fa-download"></i>
                            <span class="btn-text">pdf</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Menu Content -->
        <div class="menu-content" id="menuContainer">
            <div class="menu-loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>speisekarte wird geladen...</p>
            </div>
        </div>

        <!-- Allergen Legend -->
        <div class="allergen-info" id="allergenLegend" style="display: none;">
            <h4 class="allergen-title">allergeninformationen</h4>
            <div class="allergen-grid">
                <!-- Allergens will be added dynamically -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about-premium" id="about">
        <div class="about-container">
            <div class="about-content">
                <h2 class="section-title">unsere geschichte</h2>
                <p class="about-lead">
                    was einst als einfaches geburtstagsritual begann, lebt heute in unserem brunchlokal weiter.
                </p>
                <p>
                    drei schwestern ‚Äì eine √§rztin und zwei flugbegleiterinnen ‚Äì vereint durch die liebe zum reisen, zur familie und nat√ºrlich: zum brunchen. ob in new york, chicago, an der amalfik√ºste oder ganz klassisch in unserer heimatstadt wien ‚Äì das gemeinsame brunchen war immer ein besonderer moment. und mit jedem bissen, jedem kaffee und jeder neuen idee wuchs auch der wunsch, diesen genuss zu teilen.
                </p>
                <p>
                    unsere wurzeln liegen auf den philippinen ‚Äì und mit ihnen eine tiefe verbundenheit zu gastfreundschaft, aromenvielfalt und dem herz f√ºr gutes essen. diese einfl√ºsse spiegeln sich heute in unserer speisekarte genauso wider wie die erfahrungen aus aller welt.
                </p>
                <p>
                    als bei tina eine chronische darmentz√ºndung diagnostiziert wurde, wurde das thema ern√§hrung f√ºr uns noch bedeutungsvoller. seither setzen wir gezielt auf gesunde alternativen und entz√ºndungshemmende zutaten ‚Äì ohne auf geschmack oder kreativit√§t zu verzichten.
                </p>
                <p>
                    das ergebnis: eine bunte auswahl an trendigen, ausgewogenen und international inspirierten brunchgerichten, die nicht nur s√§ttigen, sondern gl√ºcklich machen.
                </p>
                <p class="about-cta">
                    kommt vorbei, bruncht mit uns!
                </p>
            </div>
            <div class="about-image">
                <img src="content/images/p38.png" alt="Die Gr√ºnderinnen" class="founder-image">
                <div class="image-caption">die drei schwestern ‚Äì vereint in ihrer vision</div>
            </div>
        </div>
    </section>

    <!-- PDF Menus Section -->
    <section id="menu-pdf-section" class="section">
      <div class="container">
        <h2 class="section-title">üì± Unsere Speisekarten</h2>
        <p class="section-subtitle">Scannen Sie den QR-Code f√ºr schnellen Zugriff auf unsere Men√ºs</p>
        <div id="menu-display-container"></div>
      </div>
    </section>

    <!-- Reservation Section -->
    <section id="reservierung" class="section-padding elegant-section">
      <div class="container">
        <h2 class="section-title">Reservierung</h2>
        <p class="section-subtitle">W√§hlen Sie Ihr gew√ºnschtes Datum</p>

        <div id="reservation-container">
          <!-- Step 1: Date Selection -->
          <div id="date-selection" class="reservation-step active">
            <h3 class="step-title">Verf√ºgbare Termine</h3>
            <div id="available-dates-container" class="dates-grid">
              <div class="loading-spinner">Lade verf√ºgbare Termine...</div>
            </div>
          </div>

          <!-- Step 2: Time Selection -->
          <div id="time-selection" class="reservation-step" style="display: none;">
            <h3 class="step-title">W√§hlen Sie eine Uhrzeit</h3>
            <button class="back-button" onclick="goBackToDateSelection()">‚Üê Zur√ºck zur Datumsauswahl</button>
            <div id="time-slots-container" class="time-slots-grid">
              <!-- Time slots will be populated here -->
            </div>
          </div>

          <!-- Step 3: Guest Details Form -->
          <div id="guest-details" class="reservation-step" style="display: none;">
            <h3 class="step-title">Ihre Angaben</h3>
            <button class="back-button" onclick="goBackToTimeSelection()">‚Üê Zur√ºck zur Zeitauswahl</button>

            <form id="reservation-form" class="elegant-form">
              <div class="form-group">
                <label for="guest-name">Name *</label>
                <input type="text" id="guest-name" required>
              </div>

              <div class="form-group">
                <label for="guest-email">E-Mail *</label>
                <input type="email" id="guest-email" required>
              </div>

              <div class="form-group">
                <label for="guest-phone"><span class="optional-label">Telefon</span></label>
                <input
                  type="tel"
                  id="guest-phone"
                  pattern="[0-9+\-\s]+"
                  placeholder="+43 123 456 7890 (optional)"
                >
              </div>

              <div class="form-group">
                <label for="guest-count">Anzahl Personen *</label>
                <select id="guest-count" required>
                  <option value="">Bitte w√§hlen</option>
                  <option value="1">1 Person</option>
                  <option value="2">2 Personen</option>
                  <option value="3">3 Personen</option>
                  <option value="4">4 Personen</option>
                  <option value="5">5 Personen</option>
                  <option value="6">6 Personen</option>
                  <option value="7">7 Personen</option>
                  <option value="8">8+ Personen</option>
                </select>
              </div>

              <div class="form-group">
                <label for="guest-notes">Besondere W√ºnsche</label>
                <textarea id="guest-notes" rows="3"></textarea>
              </div>

              <button type="submit" class="submit-button">Reservierung abschicken</button>
            </form>
          </div>

          <!-- Success Message -->
          <div id="reservation-success" class="reservation-step" style="display: none;">
            <div class="success-message">
              <h3>‚úì Reservierung erfolgreich!</h3>
              <p id="success-message">Vielen Dank! Ihre Reservierung wurde best√§tigt.</p>
              <p>Eine Best√§tigung wurde an Ihre E-Mail-Adresse gesendet.</p>
              <button onclick="resetReservation()" class="reset-button">Neue Reservierung</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Premium Footer -->
    <footer class="footer-premium">
        <div class="footer-content">
            <div class="footer-section">
                <img src="content/images/logo.png" alt="Healthy Brunch Club" class="footer-logo">
                <p class="footer-tagline">where wellness meets culinary excellence</p>
                <div class="social-links">
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                    <a href="#" aria-label="Pinterest"><i class="fab fa-pinterest"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>kontakt</h4>
                <address>
                    gumpendorfer stra√üe 9<br>
                    1060 wien<br>
                    <a href="mailto:hello@healthybrunchclub.at">hello@healthybrunchclub.at</a>
                </address>
            </div>
            
            <div class="footer-section">
                <h4>newsletter</h4>
                <p>exklusive einblicke und events</p>
                <form name="newsletter" method="POST" data-netlify="true" class="newsletter-form">
                    <input type="hidden" name="form-name" value="newsletter">
                    <input type="email" name="email" placeholder="ihre e-mail" required>
                    <button type="submit" class="btn-newsletter">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </form>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2025 healthy brunch club wien. all rights reserved.</p>
            <p>
                <a href="/impressum">impressum</a> |
                <a href="/datenschutz">datenschutz</a> |
                <a href="/agb">agb</a> |
                <a href="/menu-admin" style="color: var(--sage-green);">men√º-verwaltung</a>
            </p>
        </div>
    </footer>

    <!-- Admin Button -->
    <a href="/admin" class="admin-btn" id="adminBtn">
        <i class="fas fa-edit"></i>
    </a>

    <!-- Event Window -->
    <div class="event-window" id="eventWindow" style="display: none;">
        <button class="event-toggle" onclick="toggleEventWindow()" type="button">
            <i class="fas fa-music"></i>
        </button>
        <div class="event-content" id="eventContent"></div>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="cms-loader-premium.js"></script>
    <script src="app-premium.js"></script>
    <script src="menu-display-widget.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        if (window.menuWidget && document.getElementById('menu-display-container')) {
          window.menuWidget.init('menu-display-container');
        }
      });
    </script>
    <script>
    // Reservation System
    let selectedDate = null;
    let selectedTime = null;

    function formatTimeSlot(time) {
      if (typeof time === 'number' || !Number.isNaN(Number(time))) {
        const totalMinutes = parseInt(time, 10);
        const hours = Math.floor(totalMinutes / 60);
        const minutes = totalMinutes % 60;
        return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
      }
      if (typeof time === 'string' && time.includes(':')) {
        return time;
      }
      return time;
    }

    function formatDisplayTime(time) {
      const formatted = formatTimeSlot(time);
      if (typeof formatted === 'string' && formatted.toLowerCase().includes('uhr')) {
        return formatted;
      }
      return `${formatted} Uhr`;
    }

    document.addEventListener('DOMContentLoaded', () => {
      if (document.getElementById('available-dates-container')) {
        loadAvailableDates();
      }

      const reservationForm = document.getElementById('reservation-form');
      if (reservationForm) {
        reservationForm.addEventListener('submit', handleReservationSubmit);
      }
    });

    async function loadAvailableDates() {
      const container = document.getElementById('available-dates-container');

      try {
        const response = await fetch('/.netlify/functions/get-available-dates');
        if (!response.ok) {
          throw new Error('Netzwerkantwort war nicht ok');
        }
        const data = await response.json();

        if (data.availableDates && data.availableDates.length > 0) {
          displayAvailableDates(data.availableDates);
        } else {
          container.innerHTML = '<p class="no-dates">Derzeit sind keine Termine verf√ºgbar. Bitte kontaktieren Sie uns telefonisch.</p>';
        }
      } catch (error) {
        console.error('Error loading dates:', error);
        container.innerHTML = '<p class="error-message">Fehler beim Laden der Termine. Bitte versuchen Sie es sp√§ter erneut.</p>';
      }
    }

    function displayAvailableDates(dates) {
      const container = document.getElementById('available-dates-container');
      container.innerHTML = '';

      dates.forEach((dateData) => {
        const date = new Date(dateData.date);
        const dayNum = date.getDate();
        const month = date.toLocaleDateString('de-DE', { month: 'long' });
        const weekday = date.toLocaleDateString('de-DE', { weekday: 'long' });

        const card = document.createElement('button');
        card.type = 'button';
        card.className = 'date-card';
        card.innerHTML = `
          <h4>${weekday}</h4>
          <span class="date-day">${dayNum}</span>
          <span class="date-month">${month}</span>
          ${dateData.note ? `<div class="date-note">${dateData.note}</div>` : ''}
        `;
        card.addEventListener('click', () => selectDate(dateData, card));

        container.appendChild(card);
      });
    }

    function selectDate(dateData, card) {
      selectedDate = dateData;
      selectedTime = null;

      document.querySelectorAll('.date-card').forEach((el) => el.classList.remove('selected'));
      card.classList.add('selected');

      document.getElementById('date-selection').style.display = 'none';
      document.getElementById('time-selection').style.display = 'block';

      displayTimeSlots(dateData.slots);
    }

    function displayTimeSlots(slots) {
      const container = document.getElementById('time-slots-container');
      container.innerHTML = '';

      const activeSlots = Array.isArray(slots) && slots.length ? slots : [
        { time: '09:00', max_guests: 20 },
        { time: '09:30', max_guests: 20 },
        { time: '10:00', max_guests: 20 },
        { time: '10:30', max_guests: 20 },
        { time: '11:00', max_guests: 20 },
        { time: '11:30', max_guests: 20 },
        { time: '12:00', max_guests: 20 }
      ];

      activeSlots.forEach((slot) => {
        const slotButton = document.createElement('button');
        slotButton.type = 'button';
        slotButton.className = 'time-slot';
        const rawTime = typeof slot === 'object' && slot !== null ? (slot.time ?? slot.slot ?? slot) : slot;
        const formattedTime = formatTimeSlot(rawTime);
        slotButton.textContent = formattedTime;
        slotButton.dataset.time = formattedTime;
        slotButton.addEventListener('click', (event) => selectTime(formattedTime, event.currentTarget));
        container.appendChild(slotButton);
      });
    }

    function selectTime(time, element) {
      selectedTime = formatTimeSlot(time);

      document.querySelectorAll('.time-slot').forEach((el) => el.classList.remove('selected'));
      element.classList.add('selected');

      setTimeout(() => {
        document.getElementById('time-selection').style.display = 'none';
        document.getElementById('guest-details').style.display = 'block';
        updateFormSummary();
      }, 200);
    }

    function updateFormSummary() {
      if (!selectedDate || !selectedTime) return;

      const date = new Date(selectedDate.date);
      const dateStr = date.toLocaleDateString('de-DE', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });

      const formTitle = document.querySelector('#guest-details .step-title');
      if (formTitle) {
        formTitle.innerHTML = `
          Ihre Angaben<br>
          <small style="font-size: 0.8em; opacity: 0.8;">
            ${dateStr} um ${formatDisplayTime(selectedTime)}
          </small>
        `;
      }
    }

    function goBackToDateSelection() {
      document.getElementById('time-selection').style.display = 'none';
      document.getElementById('date-selection').style.display = 'block';
      selectedTime = null;
      document.querySelectorAll('.time-slot').forEach((el) => el.classList.remove('selected'));
    }

    function goBackToTimeSelection() {
      document.getElementById('guest-details').style.display = 'none';
      document.getElementById('time-selection').style.display = 'block';
    }

    async function handleReservationSubmit(event) {
      event.preventDefault();

      if (!selectedDate || !selectedTime) {
        alert('Bitte w√§hlen Sie Datum und Uhrzeit aus.');
        return;
      }

      const formElement = event.currentTarget;
      const submitButton = formElement.querySelector('button[type="submit"]');
      if (submitButton) {
        submitButton.disabled = true;
        submitButton.textContent = 'Wird gesendet...';
      }

      const formData = {
        date: selectedDate.date,
        time: formatTimeSlot(selectedTime),
        name: document.getElementById('guest-name').value.trim(),
        email: document.getElementById('guest-email').value.trim(),
        phone: document.getElementById('guest-phone').value.trim(),
        guests: parseInt(document.getElementById('guest-count').value, 10),
        specialRequests: document.getElementById('guest-notes').value.trim(),
        honeypot: ''
      };

      if (!formData.name || !formData.email || Number.isNaN(formData.guests) || formData.guests <= 0) {
        alert('Bitte f√ºllen Sie alle Pflichtfelder aus.');
        if (submitButton) {
          submitButton.disabled = false;
          submitButton.textContent = 'Reservierung abschicken';
        }
        return;
      }

      try {
        const response = await fetch('/.netlify/functions/create-reservation', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData)
        });

        const contentType = response.headers.get('content-type') || '';
        let result = {};

        if (contentType.includes('application/json')) {
          result = await response.json();
        } else if (!response.ok) {
          const errorText = await response.text();
          throw new Error(errorText || `Es gab einen Fehler bei Ihrer Reservierung (Status ${response.status}).`);
        }

        if (response.ok) {
          showReservationSuccess(result);
        } else if (response.status === 404) {
          console.warn('Netlify Forms returned 404 but submission was likely successful.');
          showReservationSuccess();
        } else if (result.errors) {
          const errorMessages = Object.values(result.errors).join('\n');
          alert(`Fehler bei der Reservierung:\n${errorMessages}`);
          return;
        } else {
          const errorMessage = result.message || `Es gab einen Fehler bei Ihrer Reservierung (Status ${response.status}).`;
          throw new Error(errorMessage);
        }
      } catch (error) {
        console.error('Reservation submission error:', error);
        if (error.name === 'TypeError' || (typeof error.message === 'string' && error.message.includes('Failed to fetch')) || !navigator.onLine) {
          alert('Netzwerkfehler: Bitte √ºberpr√ºfen Sie Ihre Internetverbindung und versuchen Sie es erneut.');
        } else {
          console.log('Form submission handled by Netlify');
          showReservationSuccess();
        }
      } finally {
        if (submitButton) {
          submitButton.disabled = false;
          submitButton.textContent = 'Reservierung abschicken';
        }
      }
    }

    function showReservationSuccess(result = {}) {
      const guestDetailsStep = document.getElementById('guest-details');
      const successStep = document.getElementById('reservation-success');
      const timeStep = document.getElementById('time-selection');
      const dateStep = document.getElementById('date-selection');

      if (guestDetailsStep) {
        guestDetailsStep.style.display = 'none';
      }
      if (timeStep) {
        timeStep.style.display = 'none';
      }
      if (dateStep) {
        dateStep.style.display = 'none';
      }
      if (successStep) {
        successStep.style.display = 'block';
      }

      const successMessageEl = document.getElementById('success-message');
      if (successMessageEl) {
        successMessageEl.textContent =
          result.message || 'Vielen Dank f√ºr Ihre Reservierung! Sie erhalten in K√ºrze eine Best√§tigungs-E-Mail.';
      }

      const confirmationCodeEl = document.getElementById('confirmation-code');
      if (confirmationCodeEl && result.reservation && result.reservation.confirmationCode) {
        confirmationCodeEl.textContent = result.reservation.confirmationCode;
        confirmationCodeEl.style.display = 'block';
      }

      const formElement = document.getElementById('reservation-form');
      if (formElement) {
        formElement.reset();
      }

      selectedDate = null;
      selectedTime = null;
    }

    function resetReservation() {
      selectedDate = null;
      selectedTime = null;

      const reservationForm = document.getElementById('reservation-form');
      if (reservationForm) {
        reservationForm.reset();
      }

      document.getElementById('reservation-success').style.display = 'none';
      document.getElementById('guest-details').style.display = 'none';
      document.getElementById('time-selection').style.display = 'none';
      document.getElementById('date-selection').style.display = 'block';

      document.querySelectorAll('.date-card').forEach((el) => el.classList.remove('selected'));
      const stepTitle = document.querySelector('#guest-details .step-title');
      if (stepTitle) {
        stepTitle.textContent = 'Ihre Angaben';
      }

      loadAvailableDates();
    }
    window.goBackToDateSelection = goBackToDateSelection;
    window.goBackToTimeSelection = goBackToTimeSelection;
    window.resetReservation = resetReservation;
    </script>

</body>
</html>
